async function authHeaders(){ const token = localStorage.getItem('lore_token'); return { 'Authorization': token? 'Bearer ' + token : '', 'Content-Type': 'application/json' }; }async function loadStats(){ try{ const res = await fetch(window.API_BASE + '/stats', { headers: await authHeaders() }); if(res.status===401){ return; } const data = await res.json(); document.getElementById('stat-produtos').innerText = data.produtos; document.getElementById('stat-pedidos').innerText = data.pedidos; document.getElementById('stat-clientes').innerText = data.clientes; }catch(e){ console.error(e); } }document.addEventListener('DOMContentLoaded', ()=>{ if(document.getElementById('stat-produtos')) loadStats(); });