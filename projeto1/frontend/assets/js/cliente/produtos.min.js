async function loadClientProducts(){const res=await fetch('/assets/img/products/products.json');const produtos=await res.json();const list=document.getElementById('prod-list');list.innerHTML='';produtos.forEach(p=>{const el=document.createElement('div');el.className='card product-card';el.innerHTML=`<img src="${p.img}" alt="${p.name}"><div><strong>${p.name}</strong><div class="muted">R$ ${Number(p.price).toFixed(2)} â€¢ estoque: ${p.stock}</div><div style="margin-top:8px"><button class="btn add-to-cart" data-id="${p.id}">Adicionar ao carrinho</button></div></div>`;list.appendChild(el)});document.querySelectorAll('.add-to-cart').forEach(btn=>btn.addEventListener('click', (e)=>{const id=Number(e.target.dataset.id);const prod=produtos.find(x=>x.id===id);let cart=JSON.parse(localStorage.getItem('lore_cart')||'[]');const existing=cart.find(i=>i.id===id);if(existing){existing.qty+=1}else{cart.push({id:prod.id,name:prod.name,price:prod.price,qty:1})}localStorage.setItem('lore_cart',JSON.stringify(cart));alert('Adicionado ao carrinho')}));}document.addEventListener('DOMContentLoaded',()=>{if(document.getElementById('prod-list'))loadClientProducts();});